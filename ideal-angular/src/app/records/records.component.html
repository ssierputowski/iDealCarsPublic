<app-header></app-header>
<<<<<<< HEAD

<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<!-- Button trigger modal -->

<!-- Modal -->
<!-- <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add New Client</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <body ng-app="myApp" ng-controller="myCtrl">
          <form [formGroup]="form" (submit)="saveCustomer()" *ngIf="!isLoading">
            <mat-form-field color="accent">
              <mat-label>First Name</mat-label>
              <input matInput type="text" formControlName="fname">
            </mat-form-field>
            <mat-form-field color="accent">
              <mat-label>Last Name</mat-label>
              <input matInput type="text" formControlName="lname">
            </mat-form-field>
            <mat-form-field color="accent">
              <mat-label>Vehicle Year</mat-label>
              <input matInput type="number" formControlName="carYear">
            </mat-form-field>
            <mat-form-field color="accent">
              <mat-label>Vehicle Make</mat-label>
              <input matInput type="text" formControlName="carMake">
            </mat-form-field>
            <mat-form-field color="accent">
              <mat-label>Vehicle Model</mat-label>
              <input matInput type="text" formControlName="carModel">
            </mat-form-field>
            <mat-form-field color="accent">
              <mat-label>Telephone</mat-label>
              <input matInput type="tel" formControlName="telephone">
            </mat-form-field>
            <mat-form-field color="accent">
              <mat-label>Email</mat-label>
              <input matInput type="email" formControlName="email">
            </mat-form-field>
            <button mat-raised-button type="button" class="btn btn-secondary" data-dismiss="modal">CLOSE</button>
            <button mat-raised-button type="submit" color="accent">SUBMIT</button>
          </form>
          <mat-spinner *ngIf="isLoading"></mat-spinner>
        </body>
      </div>
    </div>
  </div>
</div> -->

<!--Customer Form, adding a new client-->
<ng-template #customerForm let-modal>
  <div class="modal-header">
    <h5 class="modal-title" id="modalTitle">Add New Client</h5>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="form" (submit)="saveCustomer()" *ngIf="!isLoading">
      <mat-form-field color="accent">
        <mat-label>First Name</mat-label>
        <input matInput type="text" formControlName="fname">
      </mat-form-field>
      <mat-form-field color="accent">
        <mat-label>Last Name</mat-label>
        <input matInput type="text" formControlName="lname">
      </mat-form-field>
      <mat-form-field color="accent">
        <mat-label>Vehicle Year</mat-label>
        <input matInput type="text" formControlName="carYear">
      </mat-form-field>
      <mat-form-field color="accent">
        <mat-label>Vehicle Make</mat-label>
        <input matInput type="text" formControlName="carMake">
      </mat-form-field>
      <mat-form-field color="accent">
        <mat-label>Vehicle Model</mat-label>
        <input matInput type="text" formControlName="carModel">
      </mat-form-field>
      <mat-form-field color="accent">
        <mat-label>Telephone</mat-label>
        <input matInput type="tel" formControlName="telephone">
      </mat-form-field>
      <mat-form-field color="accent">
        <mat-label>Email</mat-label>
        <input matInput type="email" formControlName="email">
      </mat-form-field>
    </form>
    <mat-spinner *ngIf="isLoading"></mat-spinner>
  </div>
  <div class="modal-footer">
    <button mat-raised-button color="accent" (click)="modal.close()">SUBMIT</button>
  </div>
</ng-template>

<mat-drawer-container class="example-container " autosize>
  <mat-drawer #drawer class="example-sidenav" mode="side">
    <p>Filter</p>
    <div class="example-container">
        <mat-form-field>
          <input matInput placeholder="Search Client">
=======
<main>
  <div class="container-fluid">
    <div class="row">
      <div class="col-2 search-container">
        <mat-form-field color="accent">
          <mat-label>Customer Name</mat-label>
          <input matInput #customerName>
>>>>>>> c8726adf299ee00e58f23ab88d79e41f61ce522e
        </mat-form-field>
        <button mat-raised-button color="accent">SEARCH</button>
      </div>
      <div class="col-10 records-container">
        <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
          <!-- Customer Name Column -->
          <ng-container matColumnDef="customerName">
            <th mat-header-cell *matHeaderCellDef>Name</th>
            <td class="customerSelect" mat-cell *matCellDef="let element" (click)="print(element.customerId)">
              {{ element.lastName }}, {{ element.firstName }}
            </td>
          </ng-container>
          <!-- Customer Email Column -->
          <ng-container matColumnDef="customerEmail">
            <th mat-header-cell *matHeaderCellDef>Email</th>
            <td mat-cell *matCellDef="let element">{{ element.email }}</td>
          </ng-container>
          <!-- Customer Phone Column -->
          <ng-container matColumnDef="customerPhone">
            <th mat-header-cell *matHeaderCellDef>Phone Number</th>
            <td mat-cell *matCellDef="let element">{{ element.phone }}</td>
          </ng-container>
          <!-- Vehicle Year Column -->
          <ng-container matColumnDef="vehicleYear">
            <th mat-header-cell *matHeaderCellDef>Year</th>
            <td mat-cell *matCellDef="let element">
              <div *ngFor="let vehicle of element.vehicleInfo">
                <span>{{ vehicle.vehicleYear }}</span>
              </div>
            </td>
          </ng-container>
          <!-- Vehicle Make Column -->
          <ng-container matColumnDef="vehicleMake">
            <th mat-header-cell *matHeaderCellDef>Make</th>
            <td mat-cell *matCellDef="let element">
              <div *ngFor="let vehicle of element.vehicleInfo">
                <span>{{ vehicle.vehicleMake }}</span>
              </div>
            </td>
          </ng-container>
          <!-- Vehicle Model Column -->
          <ng-container matColumnDef="vehicleModel">
            <th mat-header-cell *matHeaderCellDef>Model</th>
            <td mat-cell *matCellDef="let element">
              <div *ngFor="let vehicle of element.vehicleInfo">
                <span>{{ vehicle.vehicleModel }}</span>
              </div>
            </td>
          </ng-container>
          <!-- Vehicle Color Column -->
          <ng-container matColumnDef="vehicleColor">
            <th mat-header-cell *matHeaderCellDef>Color</th>
            <td mat-cell *matCellDef="let element">
              <div *ngFor="let vehicle of element.vehicleInfo">
                <span>{{ vehicle.vehicleColor }}</span>
              </div>
            </td>
          </ng-container>
          <!-- Customer Records Column -->
          <ng-container matColumnDef="customerRecords">
            <th class="max-width" mat-header-cell *matHeaderCellDef>Service Records</th>
            <td class="max-width" mat-cell *matCellDef="let element">
              <button mat-raised-button color="primary">SHOW</button>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
      </div>
    </div>
  </div>
</main>
